@page "/guest"
@using ManagementApp.Components.Layout
@layout GuestLayout
@inject NavigationManager NavigationManager
@attribute [Authorize(Policy = "RequireGuestRole")]
<PageTitle>Guest</PageTitle>
@rendermode @(new InteractiveServerRenderMode(prerender:false))
@if (_loading)
{
    <SplashScreen />
}

<div class="d-flex justify-content-center align-items-center" style="width:inherit; height:inherit;justify-content:center;position: relative; overflow: hidden; color: white;">
    <video src="Operavue.mov" autoplay muted loop id="Operavue" style="position: absolute; min-width: 100%; min-height: 100%; width: auto; height: auto; z-index: -1;">
        <source src="Operavue.webm" type="video/webm">
        <source src="OperavueHVEC.mp4" type="video/mp4; codecs=hevc">
        <source src="Operavue.mp4" type="video/mp4">
        Your browser does not support video.

    </video>
    <div class="text-center" style="width: inherit;height: inherit;justify-content: center;display: flex;flex-direction: column;flex-basis: inherit;
        align-content: space-between;align-items: center;">

        <img src="Logo.png" alt="Logo" class="mb-15 mt-20" style="width: 150px;" />
        <h2 class="mb-2">Congrats!</h2>
        <h3 class="mb-3"style="font-size: 60px">YOU ARE REGISTERED</h3>
        <h4 class="mt-1">Please wait until the admin assigns you a role.</h4>

        <MudSpacer />
        <p class="mt-3">Please, email management if you are facing issues or delays.</p>
        <div class="mb-5">
            <a style="" href="mailto:management@ManagementApp.net" class="special-link">Contact Management: management@ManagementApp.net</a>
        </div>
        <form id="logoutForm" action="Account/Logout" method="post" style="display:none;">
            <AntiforgeryToken />
            <input type="hidden" name="ReturnUrl" value="" />
        </form>
    </div>
</div>
}
@code
{
    private bool _loading = true;
    protected override Task OnInitializedAsync()
    {
        _loading = false;
        return Task.CompletedTask;
    }

}